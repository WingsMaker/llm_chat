<!DOCTYPE html>
<html>

<head>
	<title>KH Chatbot</title>
	<link rel="icon" type="image/x-icon" href="https://wingsmaker.github.io/Github/kh.ico">
	<link rel="stylesheet" href="https://wingsmaker.github.io/Github/llm_chat.css" />
	<script src="https://wingsmaker.github.io/Github/aes.js"></script>
</head>

<body>
	<h1 align="center">KH Chatbot using Google LLM</h1><br>
	<a href="https://wingsmaker.github.io/Github/khbot.html" style="font-size:12px;color:white">Mobile version</a>
	<hr>
	<div id="container" class="container">
		<div id="chat" class="chat" >
			<div id="messages" class="messages"></div>
			<input id="input" class="input" type="text" cols="50" placeholder="Type something..." autocomplete="off" autofocus="true" />
			<br>
			<form>
			<label id="langcode">Voice:</label><br>
			<input type="range" min="0" max="4" value="2" step="1" id="lang" name="lang" />
			<br>
			<input type="checkbox" id="gemini" value="">
			<label for="gemini">Use Google Gemini</label>
			<input type="checkbox" id="tts" value="">
			<label for="tts">Text to speech</label>
			<br>
			<br>
			<input id="clear" type="button" onClick="clearscreen()" value="Clear"/>
			<input id="send" type="button" onClick="sendqn()" value="Send"/>
			<input id="voice" type="button" onClick="readmsg()" value="Voice"/>
			<input id="screen" type="button" onClick="screen_update()" value="Mobile"/>
			</form>
			<br>
		</div>
	</div>
	<hr>
	<p>Powered by WingsMaker</p>
</body>

<script type="text/javascript" src="https://wingsmaker.github.io/Github/llm_chat.js" ></script>
<script type="text/javascript" src="https://wingsmaker.github.io/Github/constants.js" ></script>
<script type="text/javascript" src="https://wingsmaker.github.io/Github/ask-palm.js" ></script>

<script>
console.clear();
let desktop_mode = 1;
const synth = window.speechSynthesis;
let voice = new SpeechSynthesisUtterance();
var lang_type = ["US Male", "US Female", "SG", "TW", "CN"];
var voice_type = ["en-US", "en-US-JennyNeural", "en-SG", "zh-TW", "zh-CN"];
var voice_opt = 2;
voice.rate = 1;
voice.pitch = 1; 
voice.volume = 1;
voice.lang = voice_type[voice_opt];
document.getElementById("tts").checked = false;
document.getElementById("gemini").checked = false;
document.getElementById("langcode").innerText = "Voice Type : " + lang_type[voice_opt];

desktop_screen();

document.getElementById("lang").oninput = function() {
	r = document.getElementById("lang").value;
	var lang = voice_type[r]
	voice.lang = lang;
	document.getElementById("langcode").innerText = "Voice Type : " + lang_type[r];
}

function screen_update() {
	desktop_mode = 1 - desktop_mode;
	if (desktop_mode == 0) {
		mobile_screen();
	} else {
		desktop_screen();
	}
}

function mobile_screen() {
	document.getElementById("chat").style.fontSize = "40px";
	document.getElementById("input").style.fontSize = "40px";
	document.getElementById("screen").value = "Desktop";
	document.getElementById("screen").style.fontSize = "30px";
	document.getElementById("screen").style.width = "150px";
	document.getElementById("screen").style.height = "200px";
	document.getElementById("voice").style.fontSize = "30px";
	document.getElementById("voice").style.width = "150px";
	document.getElementById("voice").style.height = "200px";
	document.getElementById("clear").style.fontSize = "30px";
	document.getElementById("clear").style.width = "150px";
	document.getElementById("clear").style.height = "200px";
	document.getElementById("send").style.fontSize = "30px";
	document.getElementById("send").style.width = "150px";
	document.getElementById("send").style.height = "200px";
	desktop_mode = 0;
}

function desktop_screen() {
	document.getElementById("chat").style.fontSize = "20px";
	document.getElementById("input").style.fontSize = "20px";
	document.getElementById("screen").value = "Mobile";
	document.getElementById("screen").style.fontSize = "20px";
	document.getElementById("screen").style.width = "120px";
	document.getElementById("screen").style.height = "80px"; 
	document.getElementById("voice").style.fontSize = "20px";
	document.getElementById("voice").style.width = "120px";
	document.getElementById("voice").style.height = "80px";
	document.getElementById("clear").style.fontSize = "20px";
	document.getElementById("clear").style.width = "120px";
	document.getElementById("clear").style.height = "80px";
	document.getElementById("send").style.fontSize = "20px";
	document.getElementById("send").style.width = "120px";
	document.getElementById("send").style.height = "80px";
	desktop_mode = 1;
}


</script>

</html>